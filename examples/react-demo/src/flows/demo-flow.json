{
  "id": "react-demo-flow",
  "name": "React Demo Flow",
  "version": "1.0.0",
  "description": "Complete demonstration of XFlows framework with React integration",
  "initialStep": "welcome",
  "context": {
    "user": null,
    "stepData": {},
    "errors": [],
    "ui": {
      "isLoading": false,
      "currentStep": "welcome"
    }
  },
  "actions": {
    "assignStepData": {
      "type": "assign",
      "target": "stepData",
      "value": "{{event.data}}"
    },
    "assignError": {
      "type": "assign",
      "target": "errors",
      "value": "{{event.error}}"
    },
    "logStep": {
      "type": "log",
      "message": "User completed step: {{event.step}}"
    }
  },
  "steps": [
    {
      "id": "welcome",
      "name": "Welcome to XFlows",
      "view": {
        "type": "display",
        "title": "Welcome to XFlows!",
        "subtitle": "React Demo Application",
        "message": "This demo showcases the complete XFlows framework with React integration, form handling, API calls, and state management.",
        "actions": [
          {
            "type": "button",
            "label": "Get Started",
            "event": "START_DEMO"
          }
        ]
      },
      "navigation": {
        "onNext": "user-info",
        "START_DEMO": "user-info"
      }
    },
    {
      "id": "user-info",
      "name": "User Information",
      "view": {
        "type": "form",
        "title": "User Information",
        "subtitle": "Tell us about yourself",
        "fields": [
          {
            "name": "firstName",
            "type": "text",
            "label": "First Name",
            "placeholder": "Enter your first name",
            "required": true,
            "validation": {
              "minLength": 2,
              "maxLength": 50
            }
          },
          {
            "name": "lastName",
            "type": "text",
            "label": "Last Name",
            "placeholder": "Enter your last name",
            "required": true,
            "validation": {
              "minLength": 2,
              "maxLength": 50
            }
          },
          {
            "name": "email",
            "type": "email",
            "label": "Email Address",
            "placeholder": "Enter your email",
            "required": true,
            "validation": {
              "pattern": "^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"
            }
          }
        ],
        "actions": [
          {
            "type": "submit",
            "label": "Continue",
            "event": "SUBMIT_USER_INFO"
          },
          {
            "type": "button",
            "label": "Back",
            "event": "GO_BACK"
          }
        ]
      },
      "navigation": {
        "onNext": "preferences",
        "onBack": "welcome",
        "BACK": "welcome",
        "SUBMIT_USER_INFO": "preferences",
        "GO_BACK": "welcome"
      }
    },
    {
      "id": "preferences",
      "name": "Preferences",
      "view": {
        "type": "form",
        "title": "Preferences",
        "subtitle": "Customize your experience",
        "fields": [
          {
            "name": "theme",
            "type": "select",
            "label": "Theme Preference",
            "required": true,
            "options": [
              { "value": "light", "label": "Light" },
              { "value": "dark", "label": "Dark" },
              { "value": "auto", "label": "Auto" }
            ]
          },
          {
            "name": "notifications",
            "type": "checkbox",
            "label": "Enable Notifications",
            "required": false
          },
          {
            "name": "newsletter",
            "type": "checkbox",
            "label": "Subscribe to Newsletter",
            "required": false
          }
        ],
        "actions": [
          {
            "type": "submit",
            "label": "Save Preferences",
            "event": "SAVE_PREFERENCES"
          },
          {
            "type": "button",
            "label": "Back",
            "event": "GO_BACK"
          }
        ]
      },
      "navigation": {
        "onNext": "api-demo",
        "onBack": "user-info",
        "BACK": "user-info",
        "SAVE_PREFERENCES": "api-demo",
        "GO_BACK": "user-info"
      }
    },
    {
      "id": "api-demo",
      "name": "API Demo",
      "view": {
        "type": "display",
        "title": "API Integration Demo",
        "subtitle": "Simulating API call",
        "message": "This step demonstrates how XFlows handles async operations and API calls. Click the button to simulate an API request.",
        "actions": [
          {
            "type": "button",
            "label": "Simulate API Call",
            "event": "CALL_API"
          },
          {
            "type": "button",
            "label": "Back",
            "event": "GO_BACK"
          }
        ]
      },
      "hooks": {
        "after": [
          {
            "id": "simulate-api-call",
            "type": "delay",
            "duration": 2000,
            "onError": "ignore"
          }
        ]
      },
      "navigation": {
        "onNext": "complete",
        "onBack": "preferences",
        "BACK": "preferences",
        "CALL_API": "complete"
      }
    },
    {
      "id": "complete",
      "name": "Setup Complete",
      "view": {
        "type": "success",
        "title": "Demo Complete!",
        "subtitle": "XFlows React Integration",
        "message": "You've successfully completed the XFlows demo! This showcases form handling, state management, navigation, and API integration.",
        "actions": [
          {
            "type": "button",
            "label": "Start Over",
            "event": "RESTART_DEMO"
          }
        ]
      },
      "navigation": {
        "onNext": "welcome",
        "RESTART_DEMO": "welcome"
      }
    }
  ]
}
